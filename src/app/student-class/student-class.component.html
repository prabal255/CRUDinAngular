<h2 style="text-align: center; color: green">Details of Students</h2>
<div class="container mt-5" style="max-width: 550px">
  <form #myForm="ngForm" (ngSubmit)="!flag ? Update(myForm) : Add(myForm)">
    <div class="form-group">
      <label>ID</label>
      <input
        type="number"
        class="form-control"
        #Id="ngModel"
        name="ID"
        [(ngModel)]="ID"
        placeholder="Please Enter unique ID"
        required
        [class.is-invalid]="Id.invalid && Id.touched"
        class="form-control"
      />
      {{ Id.invalid && Id.touched }}
      <div *ngIf="Id.invalid && Id.touched">
        <small class="text-danger">ID is required </small>
      </div>
      <!-- <div class="text-danger" *ngIf="Id.errors?.['required'] && (Id.dirty || Id.touched)">
                <span> This Field is required.</span>
            </div> -->
    </div>
    <div class="form-group">
      <label>Name</label>
      <input
        type="text"
        class="form-control"
        #FName="ngModel"
        name="name"
        [(ngModel)]="Name"
        required
        [class.is-invalid]="FName.invalid && FName.touched"
        class="form-control"
      />
      <div *ngIf="FName.invalid && FName.touched">
        <small class="text-danger">Name is required </small>
      </div>
      <!-- <div class="text-danger" *ngIf="FName.errors?.['required'] && (Id.dirty || Id.touched)">
            <span> This Field is required.</span>
        </div> -->
    </div>

    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        class="form-control"
        pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,4}$"
        #EMail="ngModel"
        name="email"
        [(ngModel)]="Email"
        required
        [class.is-invalid]="EMail.invalid && EMail.touched"
        class="form-control"
      />
      <div *ngIf="EMail.touched">
        <div *ngIf="EMail.pristine">
          <small class="text-danger">Email is required </small>
        </div>
        <div *ngIf="EMail.invalid">
          <small class="text-danger">Email is not in proper formet </small>
        </div>
      </div>

      <!-- <div *ngIf="EMail.invalid && EMail.touched">
           <small class="text-danger" >EMail is required
           </small></div>  -->
    </div>

    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        class="form-control"
        #PAssword="ngModel"
        name="password"
        [(ngModel)]="Password"
        required
        [class.is-invalid]="PAssword.invalid && PAssword.touched"
        class="form-control"
      />
      <div *ngIf="PAssword.invalid && PAssword.touched">
        <small class="text-danger">Password is required </small>
      </div>
      <!-- <div class="text-danger" *ngIf="PAssword.errors?.['required'] && (Id.dirty || Id.touched)">
            <span> This Field is required.</span>
      </div> -->
    </div>

    <div class="form-group">
      <button class="btn btn-primary" [disabled]="myForm.invalid">
        {{ flag ? "Submit" : "Update" }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="clearvalues()">
        Clear
      </button>
    </div>
  </form>
  <table class="table table-striped">
    <thead>
      <tr>
        <!-- <th scope="col">#</th> -->
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Password</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let st of list; let i = index">
        <td>{{ st.ID }}</td>
        <td>{{ st.Name }}</td>
        <td>{{ st.Email }}</td>
        <td>{{ st.Password }}</td>
        <td>
          <button type="submit" (click)="edit(i)" class="btn btn-success">
            Edit
          </button>
        </td>
        <td>
          <button type="submit" (click)="del(st.ID)" class="btn btn-danger">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
